<!doctype html>
<html lang="it" ng-app="myApp" ng-strict-di>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">
    <title>MyFinance</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/node_modules/angular-material/angular-material.css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css" />
    <link href="/node_modules/fontawesome-free/css/fontawesome.css" rel="stylesheet">
    <link href="/node_modules/fontawesome-free/css/brands.css" rel="stylesheet">
    <link href="/node_modules/fontawesome-free/css/solid.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" type="text/css" rel="stylesheet"> -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="/node_modules/angular-ui-grid/ui-grid.css" type="text/css" rel="stylesheet">
    <link href="/main.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="/node_modules/nvd3/build/nv.d3.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/angular-aria/angular-aria.js"></script>
    <script src="node_modules/angular-animate/angular-animate.js"></script>
    <script src="node_modules/angular-messages/angular-messages.js"></script>
    <script src="node_modules/angular-material/angular-material.js"></script>
    <script src="node_modules/angular-touch/angular-touch.js"></script>
    <script src="node_modules/angular-i18n/angular-locale_it.js"></script>
    <script src="node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>
    <script src="node_modules/angular-ui-grid/ui-grid.js"></script>
    <script src="node_modules/angular-ui-grid/ui-grid.auto-resize.js"></script>
    <script src="node_modules/chart.js/dist/Chart.js"></script>
    <script src="node_modules/angular-chart.js/dist/angular-chart.js"></script>
    <script src="node_modules/d3/d3.js"></script>
    <script src="node_modules/nvd3/build/nv.d3.js"></script>
    <script src="node_modules/angular-nvd3/dist/angular-nvd3.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
    <script type="text/javascript" src="utils/strings.js"></script>
    <script type="text/javascript" src="utils/modalService.js"></script> 
    <script type="text/javascript" src="utils/commonService.js"></script>
    <script type="text/javascript" src="utils/httpFactory.js"></script>
    <script type="text/javascript" src="utils/loggingService.js"></script>
    <script type="text/javascript" src="utils/dataService.js"></script>    
    <script type="text/javascript" src="service/budgetService.js"></script>    
    <script type="text/javascript" src="service/listaMovimentiService.js"></script>
    <script type="text/javascript" src="service/andamentoAnnuoService.js"></script>    
    <script type="text/javascript" src="service/settingsService.js"></script>
    <script type="text/javascript" src="service/salaryService.js"></script>    
    <script type="text/javascript" src="service/andamentoMeseService.js"></script>
    <script type="text/javascript" src="service/graficoService.js"></script>
    <script type="text/javascript" src="service/balanceService.js"></script>    
    <script type="text/javascript" src="service/passwordService.js"></script>    
    <script type="text/javascript" src="service/speseAnnualiService.js"></script>    
   <!--  <script type="text/javascript" src="//ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script type="text/javascript" src="//ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>     -->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/excel-builder/2.0.3/excel-builder.dist.min.js"></script>    
</head>

<body ng-controller="MainController" md-no-ink>    
        <div layout="column" layout-align="center center" layout-fill ng-show="!logged()">
            <md-content layout-gt-sm="row" layout-padding="">
                <md-input-container>
                    <label>Username</label>
                    <input ng-model="username">
                </md-input-container>
                <md-input-container>
                    <label>Password</label>
                    <input ng-model="password" type="password">
                </md-input-container>
                <md-button aria-label="Login" class="md-icon-button" ng-click="login()">
                     <i class="fa-solid fa-fingerprint fa-xl"></i>
                </md-button>
                <div>
                    <script type="text/ng-template" id="alert.html">
                        <div ng-transclude></div>
                    </script>
                    <div uib-alert ng-repeat="alert in alerts" ng-class="'alert-' + (alert.type || 'warning')">
                        {{alert.msg}}
                    </div>
                </div>
            </md-content>
        </div> 
        <div layout="column" class="main-container" ng-show="logged()">
           <!-- <md-content layout="column" flex> -->
            <header layout="column" class="header">
                <md-tabs md-dynamic-height md-border-bottom md-no-disconnect md-selected="activeTab">
                    <md-tab md-on-select="changeTab(0)">
                        <md-tab-label>
                            <md-icon class="material-icons">list</md-icon> Lista Movimenti
                        </md-tab-label>                        
                    </md-tab>
                    <md-tab md-on-select="changeTab(1); loadBalance()">
                        <md-tab-label>
                            <md-icon class="material-icons">account_balance</md-icon> Bilancio
                        </md-tab-label>        
                    </md-tab>
                    <md-tab md-on-select="changeTab(2); refreshGridSettings()" ng-disabled="admin()">
                        <md-tab-label>
                            <md-icon class="material-icons">settings</md-icon> Impostazioni
                        </md-tab-label>                   
                    </md-tab>
                    <md-tab md-on-select="changeTab(3); loadDefBudget()">
                        <md-tab-label>
                            <md-icon class="material-icons">attach_money</md-icon> Definizione Budget
                        </md-tab-label>
                    </md-tab>
                    <md-tab md-on-select="changeTab(4); loadBudget()">
                        <md-tab-label>
                            <md-icon class="material-icons">pie_chart</md-icon> Budget
                        </md-tab-label>
                    </md-tab>
                    <md-tab md-on-select="changeTab(5); loadPivotMese(pivot.year)">
                        <md-tab-label>
                            <md-icon class="material-icons">calendar_today</md-icon> Spesato Mese
                        </md-tab-label>                   
                    </md-tab>
                    <md-tab md-on-select="changeTab(6); loadAndamentoAnnuo()">
                        <md-tab-label>
                            <md-icon class="material-icons">bar_chart</md-icon> Spesato Annuo
                        </md-tab-label>
                    </md-tab>
                    <md-tab md-on-select="changeTab(7); loadSpeseAnnue()">
                        <md-tab-label>
                            <md-icon class="material-icons">assessment</md-icon> Report Spesato
                        </md-tab-label>
                    </md-tab>
                    <md-tab md-on-select="changeTab(8); loadGrafico(pivot.year)">
                        <md-tab-label>
                            <md-icon class="material-icons">dashboard</md-icon> Trend Conti
                        </md-tab-label>                       
                    </md-tab>
                    <!-- <md-tab md-on-select="changeTab(9); loadGraficoCategorie(pivot.year)">
                        <md-tab-label>
                            <md-icon class="material-icons">dashboard</md-icon> Dashboard Categorie
                        </md-tab-label>                       
                    </md-tab> -->
                    <md-tab md-on-select="changeTab(9); loadWork()" ng-if="disableSalaryPage()">
                        <md-tab-label>
                            <md-icon class="material-icons">work</md-icon> Stipendio
                        </md-tab-label>                       
                    </md-tab>
                    <md-tab md-on-select="changeTab(10); loadPassword()" ng-if="disablePasswordPage()">
                        <md-tab-label>
                            <md-icon class="material-icons">vpn_key</md-icon> Password
                        </md-tab-label>                       
                    </md-tab>
                </md-tabs>    
            </header>                 
            <!-- </md-content> -->
            <content layout="column" flex class="content">
                <div ng-include="'view/dettaglio.html'" ng-show="activeTab === 0"></div>
                <div ng-include="'view/balance.html'" ng-show="activeTab === 1"></div>
                <div ng-include="'view/settings.html'" ng-show="activeTab === 2"></div>
                <div ng-include="'view/definizione_budget.html'" ng-show="activeTab === 3"></div>
                <div ng-include="'view/budget.html'" ng-show="activeTab === 4"></div>            
                <div ng-include="'view/spesato_mese.html'" ng-show="activeTab === 5"></div>                        
                <div ng-include="'view/spesato_annuo.html'" ng-show="activeTab === 6"></div>
                <div ng-include="'view/report_spesato.html'" ng-show="activeTab === 7"></div>
                <div ng-include="'view/dashboard_spesato.html'" ng-show="activeTab === 8"></div>
                <!-- <div ng-include="'view/dashboard_categorie.html'" ng-show="activeTab === 9"></div> -->
                <div ng-include="'view/work.html'" ng-show="activeTab === 9"></div>
                <div ng-include="'view/password.html'" ng-show="activeTab === 10"></div>
            </content>
            <footer layout="row" layout-align="end right" class="footer">
                <md-button aria-label="{{button.label}}" 
                    ng-repeat="button in saveButtons"
                    ng-click="button.listener(gridOptions)" 
                    ng-disabled="button.disabled()">
                    <md-icon ng-if="button.icon" class="md-icon-button">{{button.icon}}</md-icon>
                    {{button.label}}
                </md-button>
            </footer>
        </div>
</body>
</html>