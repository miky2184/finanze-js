<!doctype html>
<html lang="it" ng-app="myApp" ng-strict-di>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">
    <title>MyFinance</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/node_modules/angular-material/angular-material.css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css" />
    <link href="/node_modules/fontawesome-free/css/fontawesome.css" rel="stylesheet">
    <link href="/node_modules/fontawesome-free/css/brands.css" rel="stylesheet">
    <link href="/node_modules/fontawesome-free/css/solid.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" type="text/css" rel="stylesheet">
    <link href="/node_modules/angular-ui-grid/ui-grid.css" type="text/css" rel="stylesheet">
    <link href="/main.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="/node_modules/nvd3/build/nv.d3.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/angular-aria/angular-aria.js"></script>
    <script src="node_modules/angular-animate/angular-animate.js"></script>
    <script src="node_modules/angular-messages/angular-messages.js"></script>
    <script src="node_modules/angular-material/angular-material.js"></script>
    <script src="node_modules/angular-touch/angular-touch.js"></script>
    <script src="node_modules/angular-animate/angular-animate.js"></script>
    <script src="node_modules/angular-i18n/angular-locale_it.js"></script>
    <script src="node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>
    <script src="node_modules/angular-ui-grid/ui-grid.js"></script>
    <script src="node_modules/angular-ui-grid/ui-grid.auto-resize.js"></script>
    <script src="node_modules/chart.js/dist/Chart.js"></script>
    <script src="node_modules/angular-chart.js/dist/angular-chart.js"></script>
    <script src="node_modules/d3/d3.js"></script>
    <script src="node_modules/nvd3/build/nv.d3.js"></script>
    <script src="node_modules/angular-nvd3/dist/angular-nvd3.js"></script>
    <script src="node_modules/angular-barcode-scanner/dist/angular-barcode-scanner.js"></script>
    <script type="text/javascript" src="app.js"></script>
    <script type="text/javascript" src="utils/strings.js"></script>
    <script type="text/javascript" src="utils/modalService.js"></script> 
    <script type="text/javascript" src="utils/commonService.js"></script>
    <script type="text/javascript" src="utils/dataService.js"></script>    
    <script type="text/javascript" src="service/budgetService.js"></script>    
    <script type="text/javascript" src="service/listaMovimentiService.js"></script>
    <script type="text/javascript" src="service/andamentoAnnuoService.js"></script>    
    <script type="text/javascript" src="service/settingsService.js"></script>
    <script type="text/javascript" src="service/salaryService.js"></script>    
    <script type="text/javascript" src="service/andamentoMeseService.js"></script>
    <script type="text/javascript" src="service/graficoService.js"></script>
    <script type="text/javascript" src="service/balanceService.js"></script>    
    <script type="text/javascript" src="service/passwordService.js"></script>    
    <script type="text/javascript" src="service/speseAnnualiService.js"></script>    
    <script src="http://ui-grid.info/docs/grunt-scripts/csv.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/vfs_fonts.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/lodash.min.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/jszip.min.js"></script>
    <script src="http://ui-grid.info/docs/grunt-scripts/excel-builder.dist.js"></script>
</head>

<body ng-controller="MainController" class="textapp" md-no-ink>
    <div layout="column" layout-align="center center" layout-fill ng-show="!logged()">
        <md-content layout-gt-sm="row" layout-padding="">
            <md-input-container>
                <label>Username</label>
                <input ng-model="username">
            </md-input-container>
            <md-input-container>
                <label>Password</label>
                <input ng-model="password" type="password">
            </md-input-container>
            <md-button aria-label="Login" class="md-primary md-icon-button toolbar-button md-fab md-mini"
                ng-click="login()">
                <md-icon md-svg-src="images/sharp-fingerprint-24px.svg"></md-icon>
            </md-button>
            <div>
                <script type="text/ng-template" id="alert.html">
                    <div ng-transclude></div>
                </script>
                <div uib-alert ng-repeat="alert in alerts" ng-class="'alert-' + (alert.type || 'warning')">{{alert.msg}}</div>
            </div>
        </md-content>
    </div>
    <div layout="column" layout-align="center center" layout-fill ng-show="logged()">
        <md-content layout-fill>
            <md-tabs md-dynamic-height="" md-border-bottom="">
                <md-tab label="Lista Movimenti">
                    <md-content class="md-padding">
                        <div ng-include="'view/dettaglio.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Bilancio" md-on-select="loadBalance()">
                    <md-content class="md-padding">
                        <div ng-include="'view/balance.html'"></div>
                    </md-content>
                </md-tab>                
                <md-tab label="Impostazioni" md-on-select="refreshGridSettings()" ng-disabled="admin()">
                    <md-content class="md-padding">
                        <div ng-include="'view/settings.html'"></div>
                    </md-content>
                </md-tab>                
                <md-tab label="Definizione Budget" md-on-select="loadDefBudget()">
                    <md-content class="md-padding">
                        <div ng-include="'view/definizione_budget.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Budget" md-on-select="loadBudget()">
                    <md-content class="md-padding">
                        <div ng-include="'view/budget.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Spesato Mese" md-on-select="loadPivotMese(pivot.year)">
                    <md-content class="md-padding">
                        <div ng-include="'view/spesato_mese.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Spesato Annuo" md-on-select="loadAndamentoAnnuo()">
                    <md-content class="md-padding">
                        <div ng-include="'view/spesato_annuo.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Report Spesato" md-on-select="loadSpeseAnnue()">
                    <md-content class="md-padding">
                        <div ng-include="'view/report_spesato.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Dashboard Spesato" md-on-select="loadGrafico(pivot.year)">
                    <md-content class="md-padding">
                        <div ng-include="'view/dashboard_spesato.html'"></div>
                    </md-content>
                </md-tab>                
                <md-tab label="Stipendio" md-on-select="loadWork()" ng-disabled="disableSalaryPage()">
                    <md-content class="md-padding">
                        <div ng-include="'view/work.html'"></div>
                    </md-content>
                </md-tab>                
                <md-tab label="Password" md-on-select="loadPassword()" ng-disabled="disablePasswordPage()">
                    <md-content class="md-padding">
                        <div ng-include="'view/password.html'"></div>
                    </md-content>
                </md-tab>
                <md-tab label="Dieta" ng-disabled="disablePasswordPage()">
                    <md-content class="md-padding">
                        <div ng-include="'view/dieta.html'"></div>
                    </md-content>
                </md-tab>
            </md-tabs>
            <div layout="row" layout-align="end end">
                <md-button aria-label="{{button.label}}" class="md-raised md-primary" ng-repeat="button in saveButtons"
                    layout="column" ng-click="button.listener(gridOptions)" ng-disabled="button.disabled()">
                    {{button.label}}</md-button>
            </div>
        </md-content>
    </div>
</body>

</html>