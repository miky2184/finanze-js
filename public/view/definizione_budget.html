<div layout="column" class="grid-container">
    <div layout="row" layout-align="start center" class="filters">
        <md-input-container class="md-block" flex="30">
            <label>Seleziona una tipologia di conto</label>
            <md-select ng-model="pivot.conto" ng-change="loadDefBudget()">
                <md-option ng-repeat="conto in conti" ng-value="conto.conto">
                    {{conto.label}}
                </md-option>
            </md-select>
        </md-input-container>

        <!-- Seleziona Anno -->
        <md-input-container class="md-block" flex="30">
            <label>Seleziona un anno</label>
            <md-select ng-model="pivot.year" ng-change="loadDefBudget()">
                <md-option ng-repeat="year in years" ng-value="year">
                    {{year}}
                </md-option>
            </md-select>
        </md-input-container>

        <!-- Pulsante Copia Budget -->
        <md-button aria-label="Copia Anno precedente" class="md-icon-button md-primary" ng-click="copyBudgetFromPreviousYear()">
            <md-icon md-svg-src="images/copy.svg"></md-icon>
            <md-tooltip>Copia budget dall'anno precedente</md-tooltip>
        </md-button>
    </div>

  <!-- Contenuto principale -->
  <div layout="row" flex>
      <!-- Griglia con pulsanti -->
      <div flex="40" layout="column" layout-padding>
        <div flex layout="row">
          <div flex id="gridDefBudget" 
               ui-grid="gridDefBudget" 
               ui-grid-cellnav 
               ui-grid-selection 
               ui-grid-edit 
               ui-grid-auto-resize>
          </div>
        </div>

          <!-- Pulsanti relativi alla griglia -->
          <div layout="row" layout-align="start end">
              <md-button aria-label="{{button.label}}" class="md-icon-button"
                         layout="column" 
                         ng-repeat="button in actionButtons" 
                         class="md-fab md-mini md-primary" 
                         ng-click="button.listener(gridDefBudget, 'DB')" 
                         ng-disabled="button.disabled('DB')">
                  <md-icon md-svg-src="{{button.src}}"></md-icon>
                  <md-tooltip>{{button.tooltip}}</md-tooltip>
              </md-button>
          </div>          
      </div>

      <!-- Grafico -->
      <div flex="60" layout="column" layout-padding>
          <nvd3 flex options="optionsGraficoPieBudget" data="dataGraficoPieBudget" class="chart-container"></nvd3>
      </div>
  </div>
</div> 